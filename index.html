<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Device Tilt</title>
</head>
<body>
<button onclick="requestAccelerometerPermission()">Запросить разрешение на использование акселерометра</button>

<script>
  function requestAccelerometerPermission() {
    if (typeof DeviceMotionEvent.requestPermission === 'function') {
      DeviceMotionEvent.requestPermission()
              .then(permissionState => {
                if (permissionState === 'granted') {
                  window.addEventListener('deviceorientation', handleOrientation);
                } else {
                  console.error('Разрешение на использование акселерометра не было предоставлено.');
                }
              })
              .catch(error => {
                console.error('Ошибка запроса разрешения на использование акселерометра:', error);
              });
    } else {
      console.error('Браузер не поддерживает API запроса разрешения на использование акселерометра.');
    }
  }

  function handleOrientation(event) {
    // Углы наклона устройства
    var alpha = event.alpha; // гамма (yaw) в градусах
    var beta = event.beta;   // тангаж (pitch) в градусах
    var gamma = event.gamma; // рысканье (roll) в градусах

    // Вывод углов в документ
    document.getElementById('alpha').innerText = 'Гамма (Yaw): ' + alpha.toFixed(2) + ' градусов';
    document.getElementById('beta').innerText = 'Тангаж (Pitch): ' + beta.toFixed(2) + ' градусов';
    document.getElementById('gamma').innerText = 'Рысканье (Roll): ' + gamma.toFixed(2) + ' градусов';
  }
</script>

<div>
  <p id="alpha">0</p>
  <p id="beta">0</p>
  <p id="gamma">0</p>
</div>

</body>
</html>
